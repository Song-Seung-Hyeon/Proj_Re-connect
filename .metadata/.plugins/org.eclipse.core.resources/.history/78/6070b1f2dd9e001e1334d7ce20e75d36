<%@ page import="java.sql.*"%>
<%@ page contentType="text/html;charset=UTF-8" language="java"%>
<%@ page import="java.io.*,java.util.*"%>
<%@ page import="javax.servlet.*,javax.servlet.http.*"%>
<%request.setCharacterEncoding("utf-8");%>

<%
    // 사용자로부터 받은 입력값 가져오기
    String userName = request.getParameter("user_name");
    String userBirth = request.getParameter("user_birth");
    String userNumber = request.getParameter("user_number");
    
    try {
        String url = "jdbc:mysql://your_database_url"; // 데이터베이스 URL
        String user = "your_username"; // 데이터베이스 사용자명
        String password = "your_password"; // 데이터베이스 비밀번호
        
        Class.forName("com.mysql.jdbc.Driver");
        Connection conn = DriverManager.getConnection(url, user, password);
        
        // 입력된 정보와 일치하는 아이디 찾기 쿼리
        String findIdQuery = "SELECT user_id FROM user_table WHERE user_name = ? AND user_birth = ? AND user_number = ?";
        PreparedStatement findIdStatement = conn.prepareStatement(findIdQuery);
        findIdStatement.setString(1, userName);
        findIdStatement.setString(2, userBirth);
        findIdStatement.setString(3, userNumber);
        ResultSet result = findIdStatement.executeQuery();
        
        if (result.next()) {
            // 아이디를 찾은 경우
            String foundId = result.getString("user_id");
            out.println("찾으시는 아이디는 " + foundId + " 입니다.");
        } else {
            // 일치하는 아이디가 없는 경우
            out.println("일치하는 정보로 등록된 아이디가 없습니다.");
        }
        
        result.close();
        findIdStatement.close();
        conn.close();
    } catch (Exception e) {
        e.printStackTrace();
    }
%>
